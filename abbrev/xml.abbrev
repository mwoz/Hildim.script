CItem=<Item>\n         <Value>B</Value>\n         <Name>%SEL%</Name>\n         <Name_RU>%SEL%</Name_RU>\n         <SortIndex>0</SortIndex>\n         <Tag xsi:nil="true"/>\n         <Comment>%SEL%</Comment>\n</Item>
Reference=<Template name="%SEL% Reference" type="Reference" audit="yes" code="system.%SEL%" schemaVersion="1">\n    <DataModel>\n        <Tables>\n            <Table name="%SEL%" type="Master" movements="yes">\n                <Comment>%SEL%</Comment>\n                <Fields>\n                    <Field name="%SEL%_Id" type="ObjectId" mandatory="yes">\n                        <Comment>Id %SEL%</Comment>\n                    </Field>\n\n\n\n                </Fields>\n            </Table>\n        </Tables>\n    </DataModel>\n</Template>
Choice=<system.Choice xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">\n    <Choice_Code>system.%SEL%</Choice_Code>\n    <IsOneCharValue>Y</IsOneCharValue>\n    <Comment>%SEL%</Comment>\n    <system.ChoiceValue xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">\n        <Item>\n            <Value>D</Value>\n            <Name>Default</Name>\n            <Name_RU>Default</Name_RU>\n            <SortIndex>0</SortIndex>\n            <Tag xsi:nil="true"/>\n            <Comment>Default</Comment>\n        </Item>\n        <Item>\n             <Value>M</Value>\n             <Name>MICEX</Name>\n             <Name_RU>MICEX</Name_RU>\n             <SortIndex>1</SortIndex>\n             <Tag xsi:nil="true"/>\n             <Comment>MICEX</Comment>\n        </Item>\n    </system.ChoiceValue>\n</system.Choice>\n
cursor=declare %SEL% cursor local for \n$3\nopen %SEL%\n\nfetch %SEL% into $2\nwhile (@@fetch_status = 0)\nbegin\n\t\nfetch %SEL% into $2\nend \n\nclose %SEL%\ndeallocate %SEL%
Document=<Template code="system.%SEL%" name="%SEL% Document" type="Document" audit="yes" schemaVersion="1">\n\t<DataModel>\n  \t  <Tables>\n\t\t<Table name="%SEL%" type="Master" movements="yes">\n\t\t<Comment>  </Comment>\n\t\t\t<Fields>\n                <Field name="%SEL%_Id" type="ObjectId" mandatory="yes" />\n                    <Comment>Id</Comment>\n                <Field name="DownloadKey" type="tName" mandatory="yes">\n                   <Comment>Unique, а ProviderCode+ProviderReference может быть не Unique Альтернативный номер сделки, который клеется из имени провайдера и ProviderReference.  Это поле как правило формируется по шаблону в шлюзе:   ProviderCode#ProviderReference Или формируется автоматически для сделок вводимых руками через пользовательский интрефейс. </Comment></Field>\n\n\n\t\t\t</Fields>\n\t\t\t<Indexes>\n\t\t\t\t<Index nameSuffix="DownloadKey" unique="yes" key="yes">\n\t\t\t\t\t<Field ref="DownloadKey" />\n\t\t\t\t</Index>\n\t\t\t\t<Index nameSuffix="ProviderReference" unique="yes">\n\t\t\t\t\t<Field ref="Provider_Id" />\n\t\t\t\t\t<Field ref="ProviderReference" />\n\t\t\t\t</Index>\n\t\t\t\t<Index nameSuffix="Cpty">\n\t\t\t\t\t<Field ref="Cpty_Id" />\n\t\t\t\t</Index>\n\t\t\t</Indexes>\n\t\t</Table>\n\t  </Tables>\n  </DataModel>\n</Template>\n
mpGenerate=declare @xml nvarchar(max)\nselect @xml = '%SEL%'\n\nexec dbo.mpGenerateSql @xml,'P','SP'\n
Object_IUD=declare @xml nvarchar(max), @Object_Id tId\n\nselect @xml = '%SEL%'\n\nexec dbo._IUD 'atrium','insupd',@xml,@Object_Id output,null,null,null\nselect @Object_Id
Object_Get=declare @Object_Id tId,@x nvarchar(max)\n\nexec dbo.%SEL%_Get 'atrium',@Object_Id,@x out,0,1,'N'\nselect cast(@x as xml)
